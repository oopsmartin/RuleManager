<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>AddGroup</title>
		<link type="text/css" rel="stylesheet" href="calendar.css" >
		<script type="text/javascript" src="calendar.js"></script>  
		<script type="text/javascript" src="calendar-zh.js"></script>
		<script type="text/javascript" src="calendar-setup.js" ></script>
		<script language="javascript" >
/*  
**    ====================================
**    类名：CLASS_LIANDONG_YAO  
**    功能：多级连动菜单  
**    作者：YAODAYIZI     
**/  	
  function CLASS_LIANDONG_YAO(array)
  {
   //数组，联动的数据源
  	this.array=array; 
  	this.indexName='';
  	this.obj='';
  	//设置子SELECT
	// 参数：当前onchange的SELECT ID，要设置的SELECT ID
      this.subSelectChange=function(selectName1,selectName2)
  	{
  	//try
  	//{
    var obj1=document.all[selectName1];
    var obj2=document.all[selectName2];
    var objName=this.toString();
    var me=this;
    obj1.onchange=function()
    {
    	me.optionChange(this.options[this.selectedIndex].value,obj2.id)
    }
  	}
  	//设置第一个SELECT
	// 参数：indexName指选中项,selectName指select的ID
  	this.firstSelectChange=function(indexName,selectName)  
  	{
  	this.obj=document.all[selectName];
  	this.indexName=indexName;
  	this.optionChange(this.indexName,this.obj.id)
  	}
  // indexName指选中项,selectName指select的ID
  	this.optionChange=function (indexName,selectName)
  	{
    var obj1=document.all[selectName];
    var me=this;
    obj1.length=0;
    obj1.options[0]=new Option("请选择",'');
    for(var i=0;i<this.array.length;i++)
    {	
    	if(this.array[i][1]==indexName)
    	{
    	//alert(this.array[i][1]+" "+indexName);
      obj1.options[obj1.length]=new Option(this.array[i][2],this.array[i][0]);
    	}
    }
  	}	
  }
  </script>

<script language="javascript">
//例子1-------------------------------------------------------------
//数据源
var array=new Array();
  array[0]=new Array("华南地区","根目录","华南地区"); //数据格式 ID，父级ID，名称
  array[1]=new Array("华北地区","根目录","华北地区");
  array[2]=new Array("上海","华南地区","上海");
  array[3]=new Array("广东","华南地区","广东");
  array[4]=new Array("徐家汇","上海","徐家汇");
  array[5]=new Array("普托","上海","普托");	
  array[6]=new Array("广州","广东","广州");
  array[7]=new Array("湛江","广东","湛江");
  //--------------------------------------------
  //这是调用代码
  var liandong=new CLASS_LIANDONG_YAO(array) //设置数据源
  liandong.firstSelectChange("根目录","s1"); //设置第一个选择框
  liandong.subSelectChange("s1","s2"); //设置子级选择框
  liandong.subSelectChange("s2","s3");
  
  
	//例子2-------------------------------------------------------------
	//数据源	
  var array2=new Array();//数据格式 ID，父级ID，名称
  array2[0]=new Array("测试测试","根目录","测试测试"); 
  array2[1]=new Array("华北地区","根目录","华北地区");
  array2[2]=new Array("上海","测试测试","上海");
  array2[3]=new Array("广东","测试测试","广东");
  array2[4]=new Array("徐家汇","上海","徐家汇");
  array2[5]=new Array("普托","上海","普托");	
  array2[6]=new Array("广州","广东","广州");
  array2[7]=new Array("湛江","广东","湛江");
  array2[8]=new Array("不知道","湛江","不知道");
  array2[9]=new Array("5555","湛江","555");
  array2[10]=new Array("++++","不知道","++++");
  array2[11]=new Array("111","徐家汇","111");
  array2[12]=new Array("222","111","222");
  array2[13]=new Array("333","222","333");
  //--------------------------------------------
  //这是调用代码
  //设置数据源
  var liandong2=new CLASS_LIANDONG_YAO(array2);
  //设置第一个选择框
  liandong2.firstSelectChange("根目录","x1");
  //设置子选择框
  liandong2.subSelectChange("x1","x2")
  liandong2.subSelectChange("x2","x3")
  liandong2.subSelectChange("x3","x4")
  liandong2.subSelectChange("x4","x5")
</script>	
	</head>
	<body>
		<form action="AddRule" method="post">
			<table>
			<!-- 
			<tr>
				<td align="middle" ><font color="#000000">CreateBy</font>
				</td>
				<td><input maxlength=16 size=16 name="CreateBy" type="text"></td>
			</tr>
			-->
			<tr>
				<td align="middle"><font color="#000000">DeployPlaces</font>
				</td>
				<td>
					<select>
						<option value="1">1</option>
  						<option value="2">2</option>
  						<option value="3">3</option>
  						<option value="4">4</option>
					</select>				
				</td>
			</tr>
			
			<tr>
				<td align="middle" ><font color="#000000">EffectedTime</font>
				</td>
				<td>
					<input type="text" id="EffectedTime" name="EffectedTime" onclick="return showCalendar('EffectedTime', 'y-mm-dd');"  />
				</td>
				<td>
					<select name="EffectedHour" id="EffectedHour">
						<option value="0">00:00</option>
						<option value="1">01:00</option>
						<option value="2">02:00</option>
						<option value="3">03:00</option>
						<option value="4">04:00</option>
						<option value="5">05:00</option>
						<option value="6">06:00</option>
						<option value="7">07:00</option>
						<option value="8">08:00</option>
						<option value="9">09:00</option>
						<option value="10">10:00</option>
						<option value="11">11:00</option>
						<option value="12">12:00</option>
						<option value="13">13:00</option>
						<option value="14">14:00</option>
						<option value="15">15:00</option>
						<option value="16">16:00</option>
						<option value="17">17:00</option>
						<option value="18">18:00</option>
						<option value="19">19:00</option>
						<option value="20">20:00</option>
						<option value="21">21:00</option>
						<option value="22">22:00</option>
						<option value="23">23:00</option>
					</select>
				</td>
			</tr>
			
			<tr>			
				<td align="middle" ><font color="#000000">EventAction</font>
				</td>
				<td>					
					<input name="EventAction" id="EventAction" type="text" style="width: 106; height: 40" />							
				</td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">EventType</font>
				</td>
				<td>
					<select name="EventType">
						<option value="1">1</option>
  						<option value="2">2</option>
  						<option value="3">3</option>
  						<option value="4">4</option>
					</select>				
				</td>
			</tr>
			
			<tr>
				<td align="middle" ><font color="#000000">ExpiredTime</font>
				</td>
				<td>
					<input type="text" id="ExpiredTime" name="ExpiredTime" onclick="return showCalendar('ExpiredTime', 'y-mm-dd');"  />
				</td>
				<td>
					<select name="EffectedHour" id="EffectedHour">
						<option value="0">00:00</option>
						<option value="1">01:00</option>
						<option value="2">02:00</option>
						<option value="3">03:00</option>
						<option value="4">04:00</option>
						<option value="5">05:00</option>
						<option value="6">06:00</option>
						<option value="7">07:00</option>
						<option value="8">08:00</option>
						<option value="9">09:00</option>
						<option value="10">10:00</option>
						<option value="11">11:00</option>
						<option value="12">12:00</option>
						<option value="13">13:00</option>
						<option value="14">14:00</option>
						<option value="15">15:00</option>
						<option value="16">16:00</option>
						<option value="17">17:00</option>
						<option value="18">18:00</option>
						<option value="19">19:00</option>
						<option value="20">20:00</option>
						<option value="21">21:00</option>
						<option value="22">22:00</option>
						<option value="23">23:00</option>
					</select>
				</td>
			</tr>
			
			<tr>
				<td align="middle" ><font color="#000000">Groups</font>
				</td>
				<td>
					<select name="Groups">
						<option value="1">1</option>
  						<option value="2">2</option>
  						<option value="3">3</option>
  						<option value="4">4</option>
					</select>				
				</td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">IsEnabled</font>
				</td>
				<td>
					<select name="IsEnabled">
						<option value="true">true</option>
  						<option value="false">false</option>  						
					</select>				
				</td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">MatchPattern</font>
				</td>
				<td><input maxlength=16 size=16 name="MatchPattern" type="text"></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">Protocol</font>
				</td>
				<td>
					<select name="Protocol">
						<option value="tcp">TCP</option>
  						<option value="http">http</option>
  						<option value="ftp">ftp</option>
  						<option value="udp">udp</option>
					</select>				
				</td>
			</tr>
			<!-- 
			<tr>
				<td align="middle" ><font color="#000000">RegTime</font>
				</td>
				<td>
					<input type="text" id="RegTime" name="RegTime" onclick="return showCalendar('RegTime', 'y-mm-dd');"  />
				</td>
			</tr>
			-->
			
			<tr>
				<td align="middle" ><font color="#000000">Remark</font>
				</td>
				<td><input maxlength=16 size=16 name="Remark" type="text" type="text" style="width: 106; height: 40" /></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">Remark1</font>
				</td>
				<td><input maxlength=16 size=16 name="Remark1" type="text" type="text" style="width: 106; height: 40" /></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">Remark2</font>
				</td>
				<td><input maxlength=16 size=16 name="Remark2" type="text" type="text" style="width: 106; height: 40" /></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">ReverseMatch</font>
				</td>
				<td>
					<select name="ReverseMatch">
						<option value="true">true</option>
						<option value="false">false</option>
					</select>
				</td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">RuleName</font>
				</td>
				<td><input maxlength=16 size=16 name="RuleName" type="text"></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">RuleNumber</font>
				</td>
				<td><input maxlength=16 size=16 name="RuleNumber" type="text"></td>
			</tr>
			<tr>
				<td align="middle" ><font color="#000000">RuleType</font>
				</td>
				<td>
					<select name="RuleType">
						<option value="spec">专项任务</option>
  						<option value="trojan">远控木马</option>
  						<option value="botnet">僵尸网络</option>
  						<option value="worm">蠕虫</option>
					</select>
				</td>				
			</tr>
			<tr>
				<td ><input maxLength=16 size=16 value="增加" name=groupname type="submit" />
				</td>
				<td><input maxlength=16 size=16 value="取消" type="reset" />
				</td>
			</tr>
		</table>
		

		</form>
	</body>
</html>